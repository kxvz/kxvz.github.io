{"name":"tomcat","slug":"tomcat","count":3,"postlist":[{"title":"Centos 安装 Solr","slug":"Centos-安装-Solr","date":"2018-12-11T10:20:21.000Z","updated":"2018-12-11T10:20:22.008Z","comments":true,"path":"api/articles/Centos-安装-Solr.json","excerpt":"","keywords":null,"cover":null,"content":"<p>首先下载 点击下载:<br><a href=\"http://www.apache.org/dyn/closer.cgi/lucene/solr/5.1.0\" target=\"_blank\" rel=\"noopener\">Solr-5.1.0 </a><br> (注下载:solr-5.1.0.tgz)   点击下载:<br><a href=\"http://tomcat.apache.org/download-70.cgi\" target=\"_blank\" rel=\"noopener\">Tomcat-7.0.62.tar.gz </a></p>\n<p>注意:默认下载的存放路径为Centos的登陆用户的根目录</p>\n<p>然后在Centos上准备一个目录:如 /tools/<br><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#### 部署tomcat ####</span></span><br><span class=\"line\"><span class=\"comment\">###解压</span></span><br><span class=\"line\">tar -xzvf Tomcat-7.0.62.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">###复制到安装目录</span></span><br><span class=\"line\">cp ~/tomcat-7.0.62 /tools/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">###进入bin</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /tools/tomcat-7.0.62/bin</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">###启动Tomcat</span></span><br><span class=\"line\">./startup.sh</span><br></pre></td></tr></table></figure></div></p>\n<p>操作Solr<br><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#### 部署Solr ####</span></span><br><span class=\"line\"><span class=\"comment\">###解压Solr</span></span><br><span class=\"line\">tar -xzvf solr-5.1.0.tar</span><br></pre></td></tr></table></figure></div></p>\n<p>上传solr.war到Tomcat然后关闭tomcat.</p>\n<p>配置Solr:<br><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">###进入tomcat的solr目录:</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /tools/tomcat-7.0.62/webapps/solr/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">###建立Solr_Home</span></span><br><span class=\"line\">mkdir solr_home</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">###配置Solr的web.xml</span></span><br><span class=\"line\">vi web.xml</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">###修改内容,取消env-entry的注释</span></span><br><span class=\"line\">&lt;env-entry&gt;</span><br><span class=\"line\">   &lt;env-entry-name&gt;solr/home&lt;/env-entry-name&gt;</span><br><span class=\"line\">   &lt;env-entry-value&gt;/tools/tomcat-7.0.62/webapps/solr/solr_home&lt;/env-entry-value&gt;</span><br><span class=\"line\">   &lt;env-entry-type&gt;java.lang.String&lt;/env-entry-type&gt;</span><br><span class=\"line\">&lt;/env-entry&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### 保存退出</span></span><br><span class=\"line\">Esc  :wq</span><br></pre></td></tr></table></figure></div></p>\n<p>配置Solr的日志:<br><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">### 复制相关Jar到Solr的lib中</span></span><br><span class=\"line\">cp ~/solr-5.1.0/server/lib/ext/* /tools/tomcat-7.0.62/webapps/solr/WEB-INF/lib/</span><br><span class=\"line\"><span class=\"comment\">### 复制log4j的配置文件到solr中</span></span><br><span class=\"line\">cp ~/solr-5.1.0/server/resources/log4j.properties /tools/tomcat-7.0.62/webapps/solr/WEB-INF/classes/</span><br></pre></td></tr></table></figure></div></p>\n<p>重新启动Tomcat</p>\n<p>访问: <a href=\"http://127.0.0.1:8080/solr/\" target=\"_blank\" rel=\"noopener\">http://127.0.0.1:8080/solr/</a></p>\n","text":"首先下载 点击下载:<br>Solr-5.1.0 <br> (注下载:solr-5.1.0.tgz)   点击下载:<br>Tomcat-7.0.62.tar.gz 注意:默认下载的存放路径为Centos的登陆用户的根目录然后在Centos上准备一个目录:如 /tools/<br","link":"","raw":null,"photos":[],"categories":[{"name":"Centos","slug":"Centos","count":30,"path":"api/categories/Centos.json"},{"name":"solr","slug":"Centos/solr","count":1,"path":"api/categories/Centos/solr.json"}],"tags":[{"name":"Centos","slug":"Centos","count":29,"path":"api/tags/Centos.json"},{"name":"solr","slug":"solr","count":1,"path":"api/tags/solr.json"},{"name":"tomcat","slug":"tomcat","count":3,"path":"api/tags/tomcat.json"}]},{"title":"NetBean 启动 Tomcat 报错 '127.0.0.1' 不是内部或外部命令,也不是可运行","slug":"NetBean-启动-Tomcat-报错-127-0-0-1-不是内部或外部命令-也不是可运行","date":"2018-12-11T09:59:11.000Z","updated":"2018-12-11T09:59:11.374Z","comments":true,"path":"api/articles/NetBean-启动-Tomcat-报错-127-0-0-1-不是内部或外部命令-也不是可运行.json","excerpt":"","keywords":null,"cover":null,"content":"<p>Tomcat 版本是 7.0.56 和8.0.14 的解决方法：</p>\n<p>在Tomcat的安装目录下 找到  bin/catalina.bat 这个文件的 179行 和 184行</p>\n<p>把：<br><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:noJuliConfig</span><br><span class=\"line\"><span class=\"built_in\">set</span> <span class=\"string\">\"JAVA_OPTS=%JAVA_OPTS% %LOGGING_CONFIG%\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">:noJuliManager</span><br><span class=\"line\"><span class=\"built_in\">set</span> <span class=\"string\">\"JAVA_OPTS=%JAVA_OPTS% %LOGGING_MANAGER%\"</span></span><br></pre></td></tr></table></figure></div></p>\n<p>改为：<br><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:noJuliConfig</span><br><span class=\"line\"><span class=\"built_in\">set</span> JAVA_OPTS=%JAVA_OPTS% %LOGGING_CONFIG%</span><br><span class=\"line\"></span><br><span class=\"line\">:noJuliManager</span><br><span class=\"line\"><span class=\"built_in\">set</span> JAVA_OPTS=%JAVA_OPTS% %LOGGING_MANAGER%</span><br></pre></td></tr></table></figure></div></p>\n<p>去掉引号，就可以启动了！</p>\n","text":"Tomcat 版本是 7.0.56 和8.0.14 的解决方法：在Tomcat的安装目录下 找到  bin/catalina.bat 这个文件的 179行 和 184行把：<br>1<br>2<br>3<br>4<br>5<br>:noJuliConfig<br>set \"JAV","link":"","raw":null,"photos":[],"categories":[{"name":"netbeans","slug":"netbeans","count":1,"path":"api/categories/netbeans.json"},{"name":"tomcat","slug":"netbeans/tomcat","count":1,"path":"api/categories/netbeans/tomcat.json"}],"tags":[{"name":"tomcat","slug":"tomcat","count":3,"path":"api/tags/tomcat.json"},{"name":"netbeans","slug":"netbeans","count":1,"path":"api/tags/netbeans.json"},{"name":"catalina","slug":"catalina","count":1,"path":"api/tags/catalina.json"}]},{"title":"Tomcat Server xml 配置","slug":"Tomcat-Server-xml-配置","date":"2018-12-11T10:02:13.000Z","updated":"2018-12-11T10:02:13.614Z","comments":true,"path":"api/articles/Tomcat-Server-xml-配置.json","excerpt":"","keywords":null,"cover":null,"content":"<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"XML\"><figure class=\"iseeu highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Server</span> <span class=\"attr\">port</span>=<span class=\"string\">\"8005\"</span> <span class=\"attr\">shutdown</span>=<span class=\"string\">\"SHUTDOWN\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Listener</span> <span class=\"attr\">className</span>=<span class=\"string\">\"org.apache.catalina.core.AprLifecycleListener\"</span> <span class=\"attr\">SSLEngine</span>=<span class=\"string\">\"on\"</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Listener</span> <span class=\"attr\">className</span>=<span class=\"string\">\"org.apache.catalina.core.JreMemoryLeakPreventionListener\"</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Listener</span> <span class=\"attr\">className</span>=<span class=\"string\">\"org.apache.catalina.mbeans.GlobalResourcesLifecycleListener\"</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Listener</span> <span class=\"attr\">className</span>=<span class=\"string\">\"org.apache.catalina.core.ThreadLocalLeakPreventionListener\"</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">GlobalNamingResources</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Resource</span> <span class=\"attr\">name</span>=<span class=\"string\">\"UserDatabase\"</span> <span class=\"attr\">auth</span>=<span class=\"string\">\"Container\"</span></span></span><br><span class=\"line\"><span class=\"tag\">              <span class=\"attr\">type</span>=<span class=\"string\">\"org.apache.catalina.UserDatabase\"</span></span></span><br><span class=\"line\"><span class=\"tag\">              <span class=\"attr\">description</span>=<span class=\"string\">\"User database that can be updated and saved\"</span></span></span><br><span class=\"line\"><span class=\"tag\">              <span class=\"attr\">factory</span>=<span class=\"string\">\"org.apache.catalina.users.MemoryUserDatabaseFactory\"</span></span></span><br><span class=\"line\"><span class=\"tag\">              <span class=\"attr\">pathname</span>=<span class=\"string\">\"conf/tomcat-users.xml\"</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">GlobalNamingResources</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Service</span> <span class=\"attr\">name</span>=<span class=\"string\">\"Catalina\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Connector</span> <span class=\"attr\">port</span>=<span class=\"string\">\"80\"</span> <span class=\"attr\">protocol</span>=<span class=\"string\">\"HTTP/1.1\"</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">connectionTimeout</span>=<span class=\"string\">\"30000\"</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">acceptCount</span>=<span class=\"string\">\"500\"</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">URIEncoding</span>=<span class=\"string\">\"utf-8\"</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">minSpareThreads</span>=<span class=\"string\">\"20\"</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">compression</span>=<span class=\"string\">\"on\"</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">compressionMinSize</span>=<span class=\"string\">\"512\"</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">compressableMimeType</span>=<span class=\"string\">\"text/html,text/xml,text/javascript,text/css,text/plain\"</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">redirectPort</span>=<span class=\"string\">\"8443\"</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">enableLookups</span>=<span class=\"string\">\"false\"</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Connector</span> <span class=\"attr\">port</span>=<span class=\"string\">\"8009\"</span> <span class=\"attr\">protocol</span>=<span class=\"string\">\"AJP/1.3\"</span> <span class=\"attr\">redirectPort</span>=<span class=\"string\">\"8443\"</span> /&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Engine</span> <span class=\"attr\">name</span>=<span class=\"string\">\"Catalina\"</span> <span class=\"attr\">defaultHost</span>=<span class=\"string\">\"www.xxxx.com\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">Realm</span> <span class=\"attr\">className</span>=<span class=\"string\">\"org.apache.catalina.realm.LockOutRealm\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Realm</span> <span class=\"attr\">className</span>=<span class=\"string\">\"org.apache.catalina.realm.UserDatabaseRealm\"</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">resourceName</span>=<span class=\"string\">\"UserDatabase\"</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">Realm</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">Host</span> <span class=\"attr\">name</span>=<span class=\"string\">\"www.xxxx.com\"</span> <span class=\"attr\">appBase</span>=<span class=\"string\">\"/data/www\"</span> <span class=\"attr\">unpackWARs</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">autoDeploy</span>=<span class=\"string\">\"true\"</span>&gt;</span></span><br><span class=\"line\">              <span class=\"tag\">&lt;<span class=\"name\">Context</span> <span class=\"attr\">path</span>=<span class=\"string\">\"/\"</span> <span class=\"attr\">docBase</span>=<span class=\"string\">\"\"</span>/&gt;</span></span><br><span class=\"line\">              <span class=\"tag\">&lt;<span class=\"name\">Alias</span>&gt;</span>xxxx.com<span class=\"tag\">&lt;/<span class=\"name\">Alias</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">Host</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">Engine</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">Service</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">Server</span>&gt;</span></span><br></pre></td></tr></table></figure></div>\n","text":"1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br","link":"","raw":null,"photos":[],"categories":[{"name":"tomcat","slug":"tomcat","count":1,"path":"api/categories/tomcat.json"}],"tags":[{"name":"tomcat","slug":"tomcat","count":3,"path":"api/tags/tomcat.json"},{"name":"server.xml","slug":"server-xml","count":1,"path":"api/tags/server-xml.json"}]}]}