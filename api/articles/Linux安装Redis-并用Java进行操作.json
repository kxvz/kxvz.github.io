{"title":"Linux安装Redis,并用Java进行操作","slug":"Linux安装Redis-并用Java进行操作","date":"2018-12-11T10:32:02.000Z","updated":"2018-12-11T10:32:02.380Z","comments":true,"path":"api/articles/Linux安装Redis-并用Java进行操作.json","photos":[],"link":"","excerpt":"","covers":null,"content":"<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## 进入目录</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /opt/app/redis</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 下载Redis</span></span><br><span class=\"line\">wget http://download.redis.io/releases/redis-3.0.7.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 改权限?</span></span><br><span class=\"line\">chmod -R 777 redis-3.0.5.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 解压</span></span><br><span class=\"line\">tar xzf redis-3.0.5.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 进入Redis的目录</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> redis-3.0.5</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 安装到指定目录</span></span><br><span class=\"line\">make MALLOC=libc PREFIX=/opt/app/redis install </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 如果安装失败,缺少GCC 则需要先安装 GCC</span></span><br><span class=\"line\">yum install -y gcc</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 安装成功后进入到 /opt/app/redis/cont/bin 目录可以看到如下文件</span></span><br><span class=\"line\"></span><br><span class=\"line\">redis-benchmark</span><br><span class=\"line\">redis-check-aof</span><br><span class=\"line\">redis-check-dump</span><br><span class=\"line\">redis-cli</span><br><span class=\"line\">redis-sentinel -&gt; redis-server</span><br><span class=\"line\">redis-server</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 后台启动Redis服务</span></span><br><span class=\"line\">./redis-server &amp;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 测试连接</span></span><br><span class=\"line\">./redis-cli</span><br><span class=\"line\"></span><br><span class=\"line\">127.0.0.1:6379&gt; <span class=\"built_in\">set</span> a b</span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; get a</span><br><span class=\"line\"><span class=\"string\">\"b\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 到此Redis的安装和启动完成</span></span><br></pre></td></tr></table></figure></div>\n<p>测试Java使用Redis<br><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"XML\"><figure class=\"iseeu highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 使用Maven引入支持的Jar</span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span>  </span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>redis.clients<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span>  </span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>jedis<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span>  </span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.8.0<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span>  </span><br><span class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p>\n <div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"JAVA\"><figure class=\"iseeu highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//测试方法</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] params)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">       Jedis jedis = <span class=\"keyword\">new</span> Jedis(<span class=\"string\">\"127.0.0.1\"</span>);</span><br><span class=\"line\">       jedis.set(<span class=\"string\">\"a\"</span>, <span class=\"string\">\"b....\"</span>);</span><br><span class=\"line\">       System.out.println(<span class=\"string\">\"================================================\"</span>);</span><br><span class=\"line\">       System.out.println(jedis.get(<span class=\"string\">\"a\"</span>));</span><br><span class=\"line\">       System.out.println(<span class=\"string\">\"================================================\"</span>);</span><br><span class=\"line\">       jedis.rename(<span class=\"string\">\"a\"</span>, <span class=\"string\">\"a1\"</span>);</span><br><span class=\"line\">       System.out.println(jedis.get(<span class=\"string\">\"a\"</span>));</span><br><span class=\"line\">       System.out.println(<span class=\"string\">\"================================================\"</span>);</span><br><span class=\"line\">       System.out.println(jedis.get(<span class=\"string\">\"a1\"</span>));</span><br><span class=\"line\">       System.out.println(<span class=\"string\">\"================================================\"</span>);</span><br><span class=\"line\">       jedis.del(<span class=\"string\">\"a1\"</span>);</span><br><span class=\"line\">       System.out.println(jedis.get(<span class=\"string\">\"a1\"</span>));</span><br><span class=\"line\">       System.out.println(<span class=\"string\">\"================================================\"</span>);</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure></div>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//  运行结果</span><br><span class=\"line\"></span><br><span class=\"line\">================================================</span><br><span class=\"line\">b....</span><br><span class=\"line\">================================================</span><br><span class=\"line\">null</span><br><span class=\"line\">================================================</span><br><span class=\"line\">b....</span><br><span class=\"line\">================================================</span><br><span class=\"line\">null</span><br><span class=\"line\">================================================</span><br></pre></td></tr></table></figure></div>","categories":[{"name":"Centos","slug":"Centos","count":30,"path":"api/categories/Centos.json"},{"name":"java","slug":"Centos/java","count":2,"path":"api/categories/Centos/java.json"},{"name":"redis","slug":"Centos/java/redis","count":1,"path":"api/categories/Centos/java/redis.json"}],"tags":[{"name":"Centos","slug":"Centos","count":29,"path":"api/tags/Centos.json"},{"name":"java","slug":"java","count":25,"path":"api/tags/java.json"},{"name":"redis","slug":"redis","count":3,"path":"api/tags/redis.json"}]}