{"title":"Shadowsocks编辑PAC以供本地使用代理","slug":"Shadowsocks编辑PAC以供本地使用代理","date":"2018-12-11T09:29:57.000Z","updated":"2018-12-11T09:29:57.867Z","comments":true,"path":"api/articles/Shadowsocks编辑PAC以供本地使用代理.json","photos":[],"link":"","excerpt":"","covers":null,"content":"<h1 id=\"Shadowsocks编辑PAC以供本地使用代理\"><a href=\"#Shadowsocks编辑PAC以供本地使用代理\" class=\"headerlink\" title=\"Shadowsocks编辑PAC以供本地使用代理\"></a>Shadowsocks编辑PAC以供本地使用代理</h1><p>在线PAC网址</p>\n<p>PAC地址(美国) ： <a href=\"http://dwz.cn/us-pac\" target=\"_blank\" rel=\"noopener\">http://dwz.cn/us-pac</a></p>\n<p>PAC地址(日本) ： <a href=\"http://dwz.cn/arukas\" target=\"_blank\" rel=\"noopener\">http://dwz.cn/arukas</a></p>\n<p>PAC地址(日本) ： <a href=\"http://dwz.cn/4Kq5hn\" target=\"_blank\" rel=\"noopener\">http://dwz.cn/4Kq5hn</a></p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"JS\"><figure class=\"iseeu highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> proxy = <span class=\"string\">\"socks5 127.0.0.1:1080; socks 127.0.0.1:1080; DIRECT;\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> direct = <span class=\"string\">'DIRECT;'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> hasOwnProperty = <span class=\"built_in\">Object</span>.hasOwnProperty;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">FindProxyForURL</span>(<span class=\"params\">url, host</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> suffix;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> pos = host.lastIndexOf(<span class=\"string\">'.'</span>);</span><br><span class=\"line\">    pos = host.lastIndexOf(<span class=\"string\">'.'</span>, pos - <span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (pos &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (hasOwnProperty.call(domains, host)) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> proxy;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> direct;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        suffix = host.substring(pos + <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (hasOwnProperty.call(domains, suffix)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> proxy;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        pos = host.lastIndexOf(<span class=\"string\">'.'</span>, pos - <span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n<p>主要就是:<br><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"JS\"><figure class=\"iseeu highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> proxy = <span class=\"string\">\"socks5 127.0.0.1:1080; socks 127.0.0.1:1080; DIRECT;\"</span>;</span><br></pre></td></tr></table></figure></div></p>\n","categories":[{"name":"Shadowsocks","slug":"Shadowsocks","count":1,"path":"api/categories/Shadowsocks.json"},{"name":"pac","slug":"Shadowsocks/pac","count":1,"path":"api/categories/Shadowsocks/pac.json"},{"name":"proxy","slug":"Shadowsocks/pac/proxy","count":1,"path":"api/categories/Shadowsocks/pac/proxy.json"}],"tags":[{"name":"Shadowsocks","slug":"Shadowsocks","count":1,"path":"api/tags/Shadowsocks.json"},{"name":"pac","slug":"pac","count":1,"path":"api/tags/pac.json"},{"name":"proxy","slug":"proxy","count":1,"path":"api/tags/proxy.json"}]}