{"name":"mongodb","slug":"Centos/mongodb","count":1,"postlist":[{"title":"Centos7安装 mongodb-3.2.3","slug":"Centos7安装-mongodb-3-2-3","date":"2018-12-12T02:09:45.000Z","updated":"2018-12-12T02:09:45.980Z","comments":true,"path":"api/articles/Centos7安装-mongodb-3-2-3.json","excerpt":"","keywords":null,"cover":null,"content":"<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">### 下载MongoDB</span></span><br><span class=\"line\">wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.2.3.tgz</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### 解压</span></span><br><span class=\"line\">tar -zxvf mongodb-linux-x86_64-3.2.3.tgz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### 创建需要安装的目录</span></span><br><span class=\"line\">mkdir -p /opt/mongodb</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### 复制过去</span></span><br><span class=\"line\">cp -R -n mongodb-linux-x86_64-3.2.3 /opt/mongodb</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### 创建存储目录</span></span><br><span class=\"line\">mkdir -p /opt/mongodb/data</span><br><span class=\"line\"></span><br><span class=\"line\">mkdir -p /opt/mongodb/data/db    <span class=\"comment\">### 数据目录</span></span><br><span class=\"line\">mkdir -p /opt/mongodb/data/<span class=\"built_in\">log</span>   <span class=\"comment\">### 日志目录</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### 编辑环境变量</span></span><br><span class=\"line\">vi ~/.bashrc</span><br><span class=\"line\"><span class=\"comment\">### 在最后一行下面加上</span></span><br><span class=\"line\">PATH=/opt/mongodb/mongodb-linux-x86_64-3.2.3/bin:<span class=\"variable\">$PATH</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### 启动</span></span><br><span class=\"line\">./mongod --maxConns=100 --port=27017 --bind_ip=127.0.0.1 --dbpath=/opt/mongodb/data/db --logpath=/opt/mongodb/data/<span class=\"built_in\">log</span>/mongodb.log --logappend --fork</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 添加管理员账号</span></span><br><span class=\"line\"><span class=\"comment\"># 使用mongo 命令</span></span><br><span class=\"line\">mongo</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 使用 admin 库</span></span><br><span class=\"line\">use admin</span><br><span class=\"line\"><span class=\"comment\"># 添加root账号密码为root</span></span><br><span class=\"line\">db.addUser(<span class=\"string\">\"root\"</span>,<span class=\"string\">\"root\"</span>)</span><br><span class=\"line\"><span class=\"comment\"># 新版Mongodb 添加root账号密码为root</span></span><br><span class=\"line\">db.createUser(&#123;user:<span class=\"string\">'root'</span>,<span class=\"built_in\">pwd</span>:<span class=\"string\">'root'</span>,roles:[<span class=\"string\">'userAdminAnyDatabase'</span>]&#125;)</span><br></pre></td></tr></table></figure></div>\n","text":"1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br","link":"","raw":null,"photos":[],"categories":[{"name":"Centos","slug":"Centos","count":30,"path":"api/categories/Centos.json"},{"name":"mongodb","slug":"Centos/mongodb","count":1,"path":"api/categories/Centos/mongodb.json"}],"tags":[{"name":"Centos","slug":"Centos","count":29,"path":"api/tags/Centos.json"},{"name":"install","slug":"install","count":9,"path":"api/tags/install.json"},{"name":"mongodb","slug":"mongodb","count":1,"path":"api/tags/mongodb.json"}]}]}