{"name":"java","slug":"maven/java","count":1,"postlist":[{"title":"Maven工程自动打包脚本","slug":"Maven工程自动打包脚本","date":"2018-12-11T09:39:29.000Z","updated":"2018-12-11T09:39:29.977Z","comments":true,"path":"api/articles/Maven工程自动打包脚本.json","excerpt":"","keywords":null,"cover":null,"content":"<h1 id=\"Maven工程自动打包脚本\"><a href=\"#Maven工程自动打包脚本\" class=\"headerlink\" title=\"Maven工程自动打包脚本\"></a>Maven工程自动打包脚本</h1><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BAT\"><figure class=\"iseeu highlight bat\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"built_in\">echo</span> off</span><br><span class=\"line\"><span class=\"built_in\">title</span>  Automatic Packaging Application</span><br><span class=\"line\"><span class=\"built_in\">echo</span> ==-Build this application <span class=\"built_in\">start</span>-================================</span><br><span class=\"line\">:: 设置一个共享地址的拷贝目录,需要映射成磁盘</span><br><span class=\"line\"><span class=\"built_in\">set</span> OTHERDESKTOP=Z:\\Kxvz\\PRO-PKG</span><br><span class=\"line\">:: 设置本地的存储目录</span><br><span class=\"line\"><span class=\"built_in\">set</span> DESKTOP=D:\\PRO-PKG</span><br><span class=\"line\">:: 设置代码的根路径</span><br><span class=\"line\"><span class=\"built_in\">set</span> SOURCE=D:\\Program Files\\CODE\\PRO\\branches\\dev-branch</span><br><span class=\"line\">:: 设置SVN工具目录</span><br><span class=\"line\"><span class=\"built_in\">set</span> SVN=G:\\Program Files\\TortoiseSVN\\bin</span><br><span class=\"line\"></span><br><span class=\"line\">:: 获取当前时间,<span class=\"number\">2017</span>-<span class=\"number\">08</span>-<span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> d=<span class=\"variable\">%date:~0,10%</span></span><br><span class=\"line\"></span><br><span class=\"line\">:: 删除已存在的日期文件目录并重建</span><br><span class=\"line\"><span class=\"built_in\">rd</span> /s /q \"<span class=\"variable\">%DESKTOP%</span>\\<span class=\"variable\">%d%</span>\"</span><br><span class=\"line\"><span class=\"built_in\">mkdir</span> \"<span class=\"variable\">%DESKTOP%</span>\\<span class=\"variable\">%d%</span>\"</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">rd</span> /s /q \"<span class=\"variable\">%OTHERDESKTOP%</span>\\<span class=\"variable\">%d%</span>\"</span><br><span class=\"line\"><span class=\"built_in\">mkdir</span> \"<span class=\"variable\">%OTHERDESKTOP%</span>\\<span class=\"variable\">%d%</span>\"</span><br><span class=\"line\"></span><br><span class=\"line\">:: 进入源码盘并进入目录</span><br><span class=\"line\"><span class=\"function\">D:</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">cd</span> \"%<span class=\"title\">SOURCE</span>%\\<span class=\"title\">PRO</span>-<span class=\"title\">BUILD</span>\"</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">:: 执行<span class=\"title\">SVN</span>的更新</span></span><br><span class=\"line\"><span class=\"function\">\"%<span class=\"title\">SVN</span>%\\<span class=\"title\">TortoiseProc.exe</span>\" /<span class=\"title\">command:update</span> /<span class=\"title\">path</span>:\"%<span class=\"title\">SOURCE</span>%\" /<span class=\"title\">closeonend</span>:2</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">for</span> /<span class=\"title\">f</span> \"<span class=\"title\">tokens</span>=2\" %%<span class=\"title\">i</span> <span class=\"title\">in</span> ('<span class=\"title\">svn</span> <span class=\"title\">info</span> ^| <span class=\"title\">find</span> \"<span class=\"title\">Revision</span>\"') <span class=\"title\">do</span> (</span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">set</span> <span class=\"title\">SvnVersion</span>=%%<span class=\"title\">i</span></span></span><br><span class=\"line\"><span class=\"function\">)</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">:: 打包</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">call</span> <span class=\"title\">mvn</span> <span class=\"title\">clean</span> <span class=\"title\">install</span> -<span class=\"title\">U</span> -<span class=\"title\">Dmaven.test.skip</span>=<span class=\"title\">true</span></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">:: 复制已经打包好的工程和相关文件到指定的文件夹</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">copy</span> \"%<span class=\"title\">SOURCE</span>%\\<span class=\"title\">PRO</span>\\<span class=\"title\">target</span>\\<span class=\"title\">PRO</span>-<span class=\"title\">EAR</span>-1.0.<span class=\"title\">ear</span>\" \"%<span class=\"title\">DESKTOP</span>%\\%<span class=\"title\">d</span>%\\<span class=\"title\">PRO</span>-<span class=\"title\">SVN</span>%<span class=\"title\">SvnVersion</span>%.<span class=\"title\">ear</span>\" /<span class=\"title\">y</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">copy</span> \"%<span class=\"title\">SOURCE</span>%\\<span class=\"title\">SystemLibrary</span>\\<span class=\"title\">docs</span>\\<span class=\"title\">db.table.sql</span>\" \"%<span class=\"title\">DESKTOP</span>%\\%<span class=\"title\">d</span>%\\<span class=\"title\">table.sql</span>\" /<span class=\"title\">y</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">copy</span> \"%<span class=\"title\">SOURCE</span>%\\<span class=\"title\">SystemLibrary</span>\\<span class=\"title\">docs</span>\\<span class=\"title\">db.initdata.sql</span>\" \"%<span class=\"title\">DESKTOP</span>%\\%<span class=\"title\">d</span>%\\<span class=\"title\">initdata.sql</span>\" /<span class=\"title\">y</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">copy</span> \"%<span class=\"title\">SOURCE</span>%\\<span class=\"title\">SystemLibrary</span>\\<span class=\"title\">docs</span>\\<span class=\"title\">db.update.sql</span>\" \"%<span class=\"title\">DESKTOP</span>%\\%<span class=\"title\">d</span>%\\<span class=\"title\">update.sql</span>\" /<span class=\"title\">y</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">copy</span> \"%<span class=\"title\">SOURCE</span>%\\<span class=\"title\">SystemLibrary</span>\\<span class=\"title\">docs</span>\\<span class=\"title\">update.txt</span>\" \"%<span class=\"title\">DESKTOP</span>%\\%<span class=\"title\">d</span>%\\<span class=\"title\">desc.txt</span>\" /<span class=\"title\">y</span></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">echo</span> ==-<span class=\"title\">Copy</span> <span class=\"title\">the</span> <span class=\"title\">file</span> <span class=\"title\">to</span> <span class=\"title\">Remote</span> <span class=\"title\">Files</span>-==================================</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">copy</span> \"%<span class=\"title\">DESKTOP</span>%\\%<span class=\"title\">d</span>%\\<span class=\"title\">PRO</span>-<span class=\"title\">SVN</span>%<span class=\"title\">SvnVersion</span>%.<span class=\"title\">ear</span>\" \"%<span class=\"title\">OTHERDESKTOP</span>%\\%<span class=\"title\">d</span>%\\<span class=\"title\">PRO</span>-<span class=\"title\">SVN</span>%<span class=\"title\">SvnVersion</span>%.<span class=\"title\">ear</span>\" /<span class=\"title\">y</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">copy</span> \"%<span class=\"title\">DESKTOP</span>%\\%<span class=\"title\">d</span>%\\<span class=\"title\">table.sql</span>\" \"%<span class=\"title\">OTHERDESKTOP</span>%\\%<span class=\"title\">d</span>%\\<span class=\"title\">table.sql</span>\" /<span class=\"title\">y</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">copy</span> \"%<span class=\"title\">DESKTOP</span>%\\%<span class=\"title\">d</span>%\\<span class=\"title\">initdata.sql</span>\" \"%<span class=\"title\">OTHERDESKTOP</span>%\\%<span class=\"title\">d</span>%\\<span class=\"title\">initdata.sql</span>\" /<span class=\"title\">y</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">copy</span> \"%<span class=\"title\">DESKTOP</span>%\\%<span class=\"title\">d</span>%\\<span class=\"title\">update.sql</span>\" \"%<span class=\"title\">OTHERDESKTOP</span>%\\%<span class=\"title\">d</span>%\\<span class=\"title\">update.sql</span>\" /<span class=\"title\">y</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">copy</span> \"%<span class=\"title\">DESKTOP</span>%\\%<span class=\"title\">d</span>%\\<span class=\"title\">desc.txt</span>\" \"%<span class=\"title\">OTHERDESKTOP</span>%\\%<span class=\"title\">d</span>%\\<span class=\"title\">desc.txt</span>\" /<span class=\"title\">y</span></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">echo</span> ==-<span class=\"title\">Build</span> <span class=\"title\">this</span> <span class=\"title\">application</span> <span class=\"title\">end</span>-==================================</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">echo</span> ==-<span class=\"title\">File</span> <span class=\"title\">Directory</span>-==================================</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">echo</span> <span class=\"title\">All</span> <span class=\"title\">files</span> <span class=\"title\">into</span>  \"%<span class=\"title\">DESKTOP</span>%\\%<span class=\"title\">d</span>%\"</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">echo</span> ==-<span class=\"title\">File</span> <span class=\"title\">Directory</span>-==================================</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">pause</span></span></span><br></pre></td></tr></table></figure></div>\n","text":"Maven工程自动打包脚本1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<b","link":"","raw":null,"photos":[],"categories":[{"name":"maven","slug":"maven","count":2,"path":"api/categories/maven.json"},{"name":"java","slug":"maven/java","count":1,"path":"api/categories/maven/java.json"},{"name":"install","slug":"maven/java/install","count":1,"path":"api/categories/maven/java/install.json"}],"tags":[{"name":"java","slug":"java","count":25,"path":"api/tags/java.json"},{"name":"maven","slug":"maven","count":4,"path":"api/tags/maven.json"},{"name":"pip install","slug":"pip-install","count":2,"path":"api/tags/pip-install.json"}]}]}